# 接口

##  什么是接口

### 概念

 官方解释：Java接口是一系列方法的声明，是一些方法特征的集合，**一个接口只有方法的特征没有方法的实现，因此这些方法可以在不同的地方被不同的类实现，而这些实现可以具有不同的行为（功能）**。

  我的解释：接口可以理解为一种特殊的类，里面全部是由全局常量和公共的抽象方法所组成。接口是解决Java无法使用多继承的一种手段，但是接口在实际中更多的作用是制定标准的。或者我们可以直接把接口理解为100%的抽象类，既接口中的方法必须全部是抽象方法。（JDK1.8之前可以这样理解）

### 特点

​	1、接口指明了一个类必须要做什么和不能做什么，相当于类的蓝图。
​	2、一个接口就是描述一种能力，接口的作用就是告诉类，你要实现我这种接口代表的功能，你就必须实现某些方法，我才能承认你确实拥有该接口代表的某种能力。
​	3、如果一个类实现了一个接口中要求的所有的方法，然而没有提供方法体而仅仅只有方法标识，那么这个类一定是一个抽象类。（**必须记住：抽象方法只能存在于抽象类或者接口中，但抽象类中却能存在非抽象方法，即	有方法体的方法。接口是百分之百的抽象类**）
​	4、一个JAVA库中接口的例子是：Comparator 接口，这个接口代表了“能够进行比较”这种能力，任何类只要实现了这个Comparator接口的话，这个类也具备了“比较”这种能力，那么就可以用来进行排序操作了。

### 为什么用接口

​	1、接口被用来描述一种抽象。

​	2、因为Java不像C++一样支持多继承，所以Java可以通过实现接口来弥补这个局限。	
​	3、接口也被用来实现解耦。
​	4、接口被用来实现抽象，而抽象类也被用来实现抽象，为什么一定要用接口呢？接口和抽象类之间又有什么区别呢？**原因是抽象类内部可能包含非final的变量，但是在接口中存在的变量一定是final，public,static的。**

### 关于接口的几个重点

​	1、***我们不能直接去实例化一个接口，因为接口中的方法都是抽象的，是没有方法体的*，**这样怎么可能产生具体的实例呢？但是，我们可以使用接口类型的引用指向一个实现了该接口的对象，并且可以调用这个接口中的方法

2.一个类可以实现不止一个接口。

3.一个接口可以继承于另一个接口，或者另一些接口，接口也可以继承，并且可以多继承。

4.一个类如果要实现某个接口的话，那么它必须要实现这个接口中的所有方法。

**5.接口中所有的方法都是抽象的和public的，所有的属性都是public,static,final的。**

6.接口用来弥补类无法实现多继承的局限。

7.接口也可以用来实现解耦。

## 接口的组成

**1、成员变量  其实是常量 ，格式：**

​		[public] [static] [ final] 数据类型 常量名称 = 数据值；

注意：

​		常量必须进行赋值，而且一旦赋值不能改变。

​		常量名称完全大写，用下划线进行分隔，

```java
// 在 接口 中只能声明 常量 ，不能声明 普通成员变量
	char UNIT = '米' ; // 等同于 public static final char UNIT = '米' ;
```

**2、接口中最重要的就是抽象方法，格式：**

​		[public] [static] 返回值类型 方法名称 （参数列表）；

​		注意：**实现类必须覆盖重写接口中所有的抽象方法**，除非实现类是抽象类。

```java
// 在 接口 中所有的 没有方法体 的方法默认都是 public abstract 修饰的
	void move(); // 等同于 public abstract void move() ;
```

**3、从java 8 开始，接口里允许定义默认方法，格式：**

​	[public]  default 返回值类型 方法名称（参数列表）{方法名}

​	注意：默认方法也可以被覆盖

```java
// 从 Java 8 开始 允许在 接口中声明 default 修饰的 、非抽象的 实例方法
	public default void welcome() { // 实现类可以重写 由接口提供的 default 方法
		System.out.println( this ); // 实例方法中可以使用 this 关键字
		System.out.println( "Removable#welcome()" );
	}
```

4、从java 8 开始，接口里允许定义静态方法，格式：

​	[public] static 返回值类型 方法名称（参数列表）{方法体}

​	注意：应该通过接口名称进行调用，不能通过实现类对象调用接口静态方法

​		**被static修饰的方法绝对不可能是抽象的。**

```java
	// 从 Java 8 开始 允许在接口中声明 static 修饰的方法 ( 被 static 修饰的方法绝对不可能是抽象的 )
	public static void hello() {
		System.out.println( "Removable.hello()" );
	}
```

5、从java 9 开始，接口里允许定义私有方法，格式：

​	普通私有方法：private 返回值类型 方法名称（参数列表）{方法体}

​	静态私有方法：private static 返回值类型 方法名称（参数列表） {方法体}

注意：private 的方法只有接口自己才能调用，不能被实现类或别人使用。

### 注意事项：

1、接口是没有静态代码块挥着构造方法的。

2、一个类的直接父类是唯一的，但是一个类可以同时实现多个接口。

3、如果实现类所实现的多个接口中，存在重复的抽象方法，那么只需要覆盖重写一次即可。

4、如果实现类没有覆盖重写所有接口当中的所有抽象方法，那么实现类就必须是一个抽象类。

5、如果实现类所实现的多个接口当中，存在重复的默认方法，那么实现类一定要对冲突的默认方法进行重写。

6、一个类如果直接父类当中的方法，和接口当中的默认方法产生了冲突，优先用父类当中的方法。

### 又一个注意事项：

1、类与类之间是单继承的。直接父类只有一个。

2、类与接口之间是多实现的。一个类可以实现多个接口。

3、接口与接口之间是多继承的。



4、多个父类接口当中的抽象方法如果重复，没有关系。

5、多个父类接口当中的默认方法如果重复，那么子接口必须进行默认方法的覆盖重写【而且带有default关键字】

## 接口与抽象类的区别

### 相同

​	1、抽象类和接口都是抽象的，都不能实例化

​	2、抽象类和接口都可以包含抽象方法。

​	3、抽象类和接口都可以包含类方法（static ）（从java 8 开始）

​	4、--------------------都可以包含实例方法（即没有static修饰的方法）（java 8 开始）

​	5、都可以包含私有方法（java 9开始）

​	6、都可以包含常量。

​	7、抽象类和其他类之间、接口与接口之间的继承都使用extends 关键字实现

###  不同

​	1、所有的抽象类都是Object类的子类‘、接口则没有默认的最顶层父接口

​	2、抽象类只能有一个直接父类，接口可以父接口直接继承多个接口（其实就是类与接口的区别）

​	3、抽象类有构造方法，接口没有。

​	4、接口中的成员变量只能是常量，抽象类中的成员变量可以是常量也可以是非常量。



|             | 抽象类                                                       | 接口                                                        |
| ----------- | ------------------------------------------------------------ | ----------------------------------------------------------- |
| 构造        | 有构造(供子类构造调用)                                       | 没有构造                                                    |
| 代码块      | 可以有代码块(静态代码块和普通代码块)                         | 不能有                                                      |
| 具体方法    | 可以有非抽象方法 <br>(从Object类继承的方法都是非抽象的)      | JDK 1.8 开始，这个可以有<br> ( static 修饰或 default 修饰)  |
| 抽象方法    | 可以有抽象方法，也可以没有抽象方法<br>可使用除了private以外的任意权限修饰符 | 可以有抽象方法，也可以没有抽象方法<br>只能是 public 修饰的  |
| 常量(Field) | 可以有                                                       | 只能有常量                                                  |
| 普通字段    | 可以有<br>可以是各种权限修饰符                               | 不能有<br> ( 因所有字段默认都是 public static final 修饰的) |
| 继承        | 一个子类只能继承一个父类                                     | 一个接口可以继承多个父接口                                  |
| 实现        | 一个类可以实现多个接口                                       | 接口只能继承接口，不能实现接口                              |

抽象类 可以包含 `native` 方法，而 接口 不允许包含 `native` 方法





**共同点: 都不能被实例化**

- 抽象类有构造但不允许实例化，构造供子类构造调用
- 接口没有构造，因此绝对不可能被实例化



修饰方法时:

- **`abstract` 不能跟 `static` 连用**
- **`abstract` 不能跟 `final` 连用**